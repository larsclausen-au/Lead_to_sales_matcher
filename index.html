<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lead to Sales Matcher</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>Lead â†” Sales Matcher</h1>

    <div class="inputs">
      <div class="input-group">
        <label for="leadCsv">Upload Lead CSV (AutoUncle Lead data.csv)</label>
        <input type="file" id="leadCsv" accept=".csv" />
      </div>
      <div class="input-group">
        <label for="salesCsv">Upload Sales CSV (Dealer Sales data.csv)</label>
        <input type="file" id="salesCsv" accept=".csv" />
      </div>
      <button id="matchBtn" disabled>Match</button>
    </div>

    <div id="summary" class="summary" hidden></div>

    <a id="downloadLink" href="#" download="sales_with_matches.csv" class="download" hidden>Download matched CSV</a>

    <div id="preview" class="preview" hidden>
      <h2>Preview</h2>
      <div id="previewTableContainer"></div>
    </div>
  </div>

  <!-- Column Mapping Modal -->
  <div id="columnMappingModal" class="modal" style="display: none;" hidden>
    <div class="modal-content">
      <div class="modal-header">
        <h2>Map Sales Data Columns</h2>
        <button id="closeModal" class="close-btn">&times;</button>
      </div>
      <div class="modal-body">
        <p>Please map the columns from your sales data to the expected fields. The system has made suggestions based on column names.</p>
        <div id="mappingFields"></div>
        <div class="modal-actions">
          <button id="confirmMapping" class="btn-primary">Continue to Match</button>
          <button id="saveMappingTemplate" class="btn-secondary">Save Mapping Template</button>
          <button id="clearSavedMappings" class="btn-danger">Clear Saved Mappings</button>
        </div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
  
</body>
</html>


